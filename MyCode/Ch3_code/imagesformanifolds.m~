figure;
N = 32;
data_matrix = zeros(256,N);
for i=1:N
    z = randi([1 256],1,1);
    M = zeros(16,16);
    row = ceil(z/16);
    column = rem(z-1,16) + 1;
    M(row, column) = 1;
    data_matrix(:,i) = M(:);
    %subplot(5,5,i);
    %imagesc(M);
end
eps = 2;
weight_matrix = zeros(N,N);
for i = 1:N
    for j = 1:N
        u = (norm(data_matrix(:,j) - data_matrix(:,i)))^2;
        weight_matrix(i,j) = exp(-(1/2*eps)*u);
    end
end

W = weight_matrix - eye(N);
G.N = N;
G.W = W; 
% Assign a default circular embedding 
G.coords=[(cos((0:N-1)*(2*pi)/N))',(sin((0:N-1)*(2*pi)/N))'];
G.plotting.limits=[-1,1,-1,1];
G = gsp_graph_default_parameters(G);

